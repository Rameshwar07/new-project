<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ultimate Proposal ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  background:black;
  color:white;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  height:100vh;
  overflow:hidden;
}

/* ---------- CINEMATIC INTRO ---------- */
#intro{
  position:fixed;
  inset:0;
  background:black;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:2rem;
  letter-spacing:2px;
  animation:fadeOut 4s forwards 3s;
  z-index:50;
}

@keyframes fadeOut{
  to{opacity:0;visibility:hidden}
}

/* ---------- MAIN LAYOUT ---------- */
.container{
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:60px;
}

/* ---------- STAR BACKGROUND ---------- */
canvas{
  position:fixed;
  inset:0;
  z-index:0;
}

/* ---------- GLASS UI ---------- */
.glass{
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(25px);
  border:1px solid rgba(255,255,255,.2);
  border-radius:30px;
  padding:40px;
  z-index:5;
  box-shadow:0 0 50px rgba(255,0,128,.3);
}

/* ---------- 3D CUBE ---------- */
.scene{
  width:260px;
  height:260px;
  perspective:1000px;
  position:relative;
}

.cube{
  width:100%;
  height:100%;
  position:absolute;
  transform-style:preserve-3d;
  animation:rotateCube 12s infinite linear;
  cursor:pointer;
}

.cube img{
  position:absolute;
  width:260px;
  height:260px;
  object-fit:cover;
  border-radius:20px;
  box-shadow:0 0 30px rgba(255,0,128,.6);
}

/* Cube faces */
.front{transform:rotateY(0deg) translateZ(130px)}
.back{transform:rotateY(180deg) translateZ(130px)}
.right{transform:rotateY(90deg) translateZ(130px)}
.left{transform:rotateY(-90deg) translateZ(130px)}

@keyframes rotateCube{
  0%{transform:rotateX(-20deg) rotateY(0deg)}
  100%{transform:rotateX(-20deg) rotateY(360deg)}
}

/* ---------- FLOATING HEARTS AROUND CUBE ---------- */
.floating-heart{
  position:absolute;
  font-size:22px;
  animation:orbit 6s linear infinite;
}

@keyframes orbit{
  from{transform:rotate(0deg) translateX(160px) rotate(0deg)}
  to{transform:rotate(360deg) translateX(160px) rotate(-360deg)}
}

/* ---------- LOVE LETTER RIGHT ---------- */
#loveLetter{
  width:400px;
  font-size:1.2rem;
  line-height:1.6;
  min-height:100px;
}

/* ---------- BUTTON ---------- */
button{
  margin-top:20px;
  padding:15px 40px;
  border:none;
  border-radius:40px;
  font-size:1.1rem;
  cursor:pointer;
  background:linear-gradient(90deg,#ff3366,#ff0066);
  color:white;
  box-shadow:0 0 25px #ff0066;
  transition:.3s;
}
button:hover{transform:scale(1.1)}

/* ---------- ZOOM IMAGE ---------- */
#zoomView{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.9);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:100;
}
#zoomView img{
  max-width:90%;
  max-height:90%;
  border-radius:20px;
}

/* ---------- HEART BURST ---------- */
@keyframes floatHeart{
  from{transform:translate(0,0) scale(.5);opacity:1}
  to{transform:translate(var(--x),var(--y)) scale(1.5);opacity:0}
}

/* ---------- FIREWORK SKY ---------- */
@keyframes explode{
  0%{transform:scale(0);opacity:1}
  100%{transform:scale(4);opacity:0}
}
</style>
</head>

<body>

<div id="intro">Every Love Story Is Beautiful‚Ä¶ ‚ù§Ô∏è</div>

<canvas id="stars"></canvas>
<audio id="music" src="music.mp3" loop></audio>

<div class="container">

  <!-- LEFT SIDE CUBE -->
  <div class="glass scene">
    <div class="cube" id="cube">
      <img src="photo1.jpg" class="front">
      <img src="photo2.jpg" class="back">
      <img src="photo3.jpg" class="right">
      <img src="photo4.jpg" class="left">
    </div>
  </div>

  <!-- RIGHT SIDE LETTER -->
  <div class="glass">
    <div id="loveLetter"></div>
    <button id="yesBtn">YES ‚ù§Ô∏è</button>
  </div>

</div>

<div id="zoomView"><img id="zoomImg"></div>

<script>

/* ---------- STAR BACKGROUND ---------- */
const canvas=document.getElementById("stars");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let stars=[];
for(let i=0;i<150;i++){
 stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,size:Math.random()*2});
}
function drawStars(){
 ctx.clearRect(0,0,canvas.width,canvas.height);
 ctx.fillStyle="white";
 stars.forEach(s=>{
  ctx.beginPath();
  ctx.arc(s.x,s.y,s.size,0,Math.PI*2);
  ctx.fill();
 });
 requestAnimationFrame(drawStars);
}
drawStars();

/* ---------- FLOATING HEARTS AROUND CUBE ---------- */
for(let i=0;i<6;i++){
 const h=document.createElement("div");
 h.className="floating-heart";
 h.innerHTML="‚ù§Ô∏è";
 h.style.animationDelay=(i*1)+"s";
 document.querySelector(".scene").appendChild(h);
}

/* ---------- TYPEWRITER ---------- */
const text="You are the most beautiful chapter of my life. Every smile of yours lights up my world. I promise to stand beside you forever. ‚ù§Ô∏è";
let i=0;
function typeWriter(){
 if(i<text.length){
  document.getElementById("loveLetter").innerHTML+=text.charAt(i);
  i++;
  setTimeout(typeWriter,40);
 }
}
setTimeout(typeWriter,4000);

/* ---------- ZOOM ON CLICK ---------- */
const cube=document.getElementById("cube");
const zoom=document.getElementById("zoomView");
const zoomImg=document.getElementById("zoomImg");

cube.onclick=()=>{
 const imgs=cube.querySelectorAll("img");
 zoomImg.src=imgs[Math.floor(Math.random()*imgs.length)].src;
 zoom.style.display="flex";
}
zoom.onclick=()=>zoom.style.display="none";

/* ---------- YES BUTTON EFFECT ---------- */
const yesBtn=document.getElementById("yesBtn");
const music=document.getElementById("music");

yesBtn.onclick=()=>{
 music.play();

 const rect=yesBtn.getBoundingClientRect();
 const centerX=rect.left+rect.width/2;
 const centerY=rect.top+rect.height/2;

 /* HEART BURST EVERY CLICK */
 for(let i=0;i<60;i++){
  const heart=document.createElement("div");
  heart.innerHTML="‚ù§Ô∏è";
  heart.style.position="fixed";
  heart.style.left=centerX+"px";
  heart.style.top=centerY+"px";
  heart.style.fontSize=(20+Math.random()*25)+"px";
  heart.style.zIndex="200";

  const xMove=(Math.random()-0.5)*800+"px";
  const yMove=(Math.random()-1)*800+"px";

  heart.style.setProperty("--x",xMove);
  heart.style.setProperty("--y",yMove);
  heart.style.animation="floatHeart 2.5s ease-out forwards";
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),2500);
 }

 /* FIREWORK SKY */
 for(let i=0;i<15;i++){
  const fire=document.createElement("div");
  fire.innerHTML="üíñ";
  fire.style.position="fixed";
  fire.style.left=Math.random()*100+"vw";
  fire.style.top=Math.random()*60+"vh";
  fire.style.fontSize="30px";
  fire.style.zIndex="150";
  fire.style.animation="explode 1.5s ease-out forwards";
  document.body.appendChild(fire);
  setTimeout(()=>fire.remove(),1500);
 }
};

</script>

</body>
</html>
